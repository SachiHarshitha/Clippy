<winuiex:WindowEx
    x:Class="Clippy.SettingsWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:Clippy.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:icons="using:CubeKit.UI.Icons"
    xmlns:local="using:Clippy"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:settings="using:CubeKit.UI.Controls.Settings"
    xmlns:winuiex="using:WinUIEx"
    Title="Clippy Settings"
    MinWidth="1090"
    mc:Ignorable="d">
    <winuiex:WindowEx.SystemBackdrop>
        <MicaBackdrop />
    </winuiex:WindowEx.SystemBackdrop>
    <Grid>
        <Border
            x:Name="AppTitleBar"
            Height="40"
            Margin="12,0,0,0"
            VerticalAlignment="Top"
            Canvas.ZIndex="1"
            IsHitTestVisible="True">
            <Grid>
                <StackPanel Orientation="Horizontal">
                    <Image
                        x:Name="AppFontIcon"
                        Width="24"
                        Height="24"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Source="Assets/Square44x44Logo.scale-100.png" />
                    <TextBlock
                        x:Name="AppTitle"
                        Margin="8,0,0,0"
                        VerticalAlignment="Center"
                        Style="{StaticResource CaptionTextBlockStyle}"
                        Text="Clippy by FireCube" />
                    <TextBlock
                        Margin="2,0,0,0"
                        VerticalAlignment="Center"
                        Opacity="0.7"
                        Style="{StaticResource CaptionTextBlockStyle}"
                        Text=" - Settings" />
                </StackPanel>
            </Grid>
        </Border>
        <ScrollViewer x:Name="SettingsPanel" Margin="0,48,0,0">
            <Grid>
                <StackPanel
                    x:Name="SettingsGrid"
                    Margin="100,50,300,100"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Top">
                    <StackPanel
                        Margin="4,4,4,24"
                        Orientation="Horizontal"
                        Spacing="8">
                        <TextBlock FontSize="24" FontWeight="SemiBold">Clippy by FireCube</TextBlock>
                        <TextBlock
                            VerticalAlignment="Bottom"
                            FontSize="20"
                            FontWeight="SemiBold"
                            Opacity="0.7">
                            - 1.0
                        </TextBlock>
                    </StackPanel>
                    <!-- <TextBlock FontSize="14" FontWeight="SemiBold" Margin="4, 4, 4, 2">API Key</TextBlock>
                    <settings:SettingsBlockControl Title="OpenAI Api" Margin="2" Description="OpenAI API key for Clippy">
                        <settings:SettingsBlockControl.Icon>
                            <icons:FluentIconElement VerticalAlignment="Center" Symbol="Key24" Foreground="LightCoral"/>
                        </settings:SettingsBlockControl.Icon>
                        <settings:SettingsBlockControl.ExpandableContent>
                            <Grid Padding="24, 0, 24, 0">
                                <controls:APIBox/>
                            </Grid>
                        </settings:SettingsBlockControl.ExpandableContent>
                    </settings:SettingsBlockControl>-->
                    <TextBlock
                        Margin="4,28,4,2"
                        FontSize="14"
                        FontWeight="SemiBold">
                        Clippy Options
                    </TextBlock>
                    <!-- <settings:SettingsBlockControl Title="Maximum tokens" Margin="2" Description="Maximum amount of tokens to use for Clippy input + output per prompt. (1 token = 2-3 words)">
                        <settings:SettingsBlockControl.Icon>
                            <icons:FluentIconElement VerticalAlignment="Center" Symbol="TextWordCount24"/>
                        </settings:SettingsBlockControl.Icon>
                        <NumberBox Style="{ThemeResource GlowNumberBox}" AcceptsExpression="False" Value="{x:Bind Settings.Tokens, Mode=TwoWay}" PlaceholderText="100" Maximum="2000" Minimum="50" Width="200" Margin="0, 0, 90, 0" SmallChange="10" LargeChange="100" SpinButtonPlacementMode="Inline"/>
                    </settings:SettingsBlockControl>-->
                    <settings:SettingsBlockControl
                        x:Name="Keyboard"
                        Title="Keyboard"
                        Margin="2"
                        Description="Note: Support for other shortcuts is not yet supported">
                        <settings:SettingsBlockControl.Icon>
                            <icons:FluentIconElement VerticalAlignment="Center" Symbol="Keyboard24" />
                        </settings:SettingsBlockControl.Icon>
                        <ToggleSwitch
                            HorizontalAlignment="Right"
                            IsOn="{x:Bind Settings.KeyboardEnabled, Mode=TwoWay}"
                            OffContent="Off"
                            OnContent="Win + Shift + C"
                            Style="{ThemeResource GlowSwitch}" />
                    </settings:SettingsBlockControl>
                    <TextBlock
                        Margin="4,28,4,2"
                        FontSize="14"
                        FontWeight="SemiBold">
                        Personalisation Options
                    </TextBlock>
                    <settings:SettingsBlockControl
                        Title="Autopin Clippy"
                        Margin="2"
                        Description="Always pin Clippy to the top of the screen on startup">
                        <settings:SettingsBlockControl.Icon>
                            <icons:FluentIconElement VerticalAlignment="Center" Symbol="Pin24" />
                        </settings:SettingsBlockControl.Icon>
                        <ToggleSwitch
                            HorizontalAlignment="Right"
                            IsOn="{x:Bind Settings.AutoPin, Mode=TwoWay}"
                            OffContent="Off"
                            OnContent="On"
                            Style="{ThemeResource GlowSwitch}" />
                    </settings:SettingsBlockControl>
                    <settings:SettingsBlockControl
                        Title="Translucent background"
                        Margin="2"
                        Description="Toggle a translucent or transparent window background.">
                        <settings:SettingsBlockControl.Icon>
                            <icons:FluentIconElement VerticalAlignment="Center" Symbol="ColorBackground24" />
                        </settings:SettingsBlockControl.Icon>
                        <ToggleSwitch
                            HorizontalAlignment="Right"
                            IsOn="{x:Bind Settings.TranslucentBackground, Mode=TwoWay}"
                            OffContent="Transparent"
                            OnContent="Translucent"
                            Style="{ThemeResource GlowSwitch}" />
                    </settings:SettingsBlockControl>
                    <settings:SettingsBlockControl
                        Title="Run on startup"
                        Margin="2"
                        Description="Launch Clippy when Windows starts up (recommended)">
                        <settings:SettingsBlockControl.Icon>
                            <icons:FluentIconElement VerticalAlignment="Center" Symbol="ClockAlarm24" />
                        </settings:SettingsBlockControl.Icon>
                        <ToggleSwitch
                            x:Name="StartupToggle"
                            HorizontalAlignment="Right"
                            OffContent="Off"
                            OnContent="On"
                            Style="{ThemeResource GlowSwitch}"
                            Toggled="StartupToggle_Toggled" />
                    </settings:SettingsBlockControl>
                    <TextBlock
                        x:Name="StartupErrorText"
                        Foreground="{ThemeResource RedLinearGradientBrush}"
                        Text=""
                        TextWrapping="WrapWholeWords"
                        Visibility="Collapsed" />
                    <settings:SettingsBlockControl
                        Title="Show Clippy in Tray"
                        Margin="2"
                        Description="Summon Clippy from the System Tray area">
                        <settings:SettingsBlockControl.Icon>
                            <icons:FluentIconElement VerticalAlignment="Center" Symbol="Apps24" />
                        </settings:SettingsBlockControl.Icon>
                        <ToggleSwitch
                            HorizontalAlignment="Right"
                            IsEnabled="False"
                            IsOn="{x:Bind Settings.TrayClippy, Mode=TwoWay}"
                            OffContent="Off"
                            OnContent="On"
                            Style="{ThemeResource GlowSwitch}" />
                    </settings:SettingsBlockControl>
                    <TextBlock
                        Margin="4,28,4,2"
                        FontSize="14"
                        FontWeight="SemiBold">
                        Information
                    </TextBlock>
                    <settings:SettingsBlockControl
                        Title="Rate the app!"
                        Margin="2"
                        Description="Help support us by rating the app!">
                        <settings:SettingsBlockControl.Icon>
                            <icons:FluentIconElement VerticalAlignment="Center" Symbol="Star24" />
                        </settings:SettingsBlockControl.Icon>
                        <Button
                            Width="150"
                            Margin="4,12,4,8"
                            BorderBrush="{ThemeResource MicaBorderBrush}"
                            BorderThickness="1"
                            Click="Star_Click"
                            Style="{ThemeResource ToolbarButton}">
                            Rate
                        </Button>
                    </settings:SettingsBlockControl>
                    <settings:SettingsBlockControl
                        Title="Contact the developer, See new features, Get app support"
                        Margin="2"
                        Description="Join the Windows Apps Hub">
                        <settings:SettingsBlockControl.Icon>
                            <icons:FluentIconElement VerticalAlignment="Center" Symbol="people24" />
                        </settings:SettingsBlockControl.Icon>
                        <Button
                            Width="150"
                            Margin="4,12,4,8"
                            BorderBrush="{ThemeResource MicaBorderBrush}"
                            BorderThickness="1"
                            Click="Hub_Click"
                            Style="{ThemeResource ToolbarButton}">
                            Open
                        </Button>
                    </settings:SettingsBlockControl>
                    <settings:SettingsBlockControl
                        Title="Submit bugs, Track updates, View code"
                        Margin="2"
                        Description="Visit the GitHub repository">
                        <settings:SettingsBlockControl.Icon>
                            <icons:FluentIconElement VerticalAlignment="Center" Symbol="Bug24" />
                        </settings:SettingsBlockControl.Icon>
                        <Button
                            Width="150"
                            Margin="4,12,4,8"
                            BorderBrush="{ThemeResource MicaBorderBrush}"
                            BorderThickness="1"
                            Click="GitHub_Click"
                            Style="{ThemeResource ToolbarButton}">
                            Open
                        </Button>
                    </settings:SettingsBlockControl>

                </StackPanel>

                <StackPanel
                    x:Name="AboutPanel"
                    Width="200"
                    Margin="80,100,12,40"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top">
                    <TextBlock
                        Margin="4,4,4,8"
                        FontSize="14"
                        FontWeight="SemiBold">
                        About this app
                    </TextBlock>
                    <StackPanel Margin="4,0,4,0" Orientation="Horizontal">
                        <TextBlock Margin="0,4,4,0" FontSize="14">Clippy by FireCube</TextBlock>
                        <TextBlock
                            Margin="2,4,4,0"
                            FontSize="14"
                            Opacity="0.7">
                            - Preview 4
                        </TextBlock>
                    </StackPanel>
                    <TextBlock
                        Margin="4,0,4,0"
                        FontSize="14"
                        TextWrapping="WrapWholeWords">
                        Developed by FireCubeStudios
                    </TextBlock>
                    <HyperlinkButton Margin="4" NavigateUri="https://discord.gg/3WYcKat">Join Clippy Discord</HyperlinkButton>
                    <HyperlinkButton Margin="4" NavigateUri="https://github.com/FireCubeStudios/Clippy">Star the GitHub repository</HyperlinkButton>
                    <HyperlinkButton Margin="4" NavigateUri="ms-windows-store://review/?ProductId=9NWK37S35V5T">Rate the app</HyperlinkButton>
                    <MenuFlyoutSeparator Margin="0,0,24,0" />
                    <HyperlinkButton Margin="4" NavigateUri="https://twitter.com/FireCubeStudios">Follow me on Twitter</HyperlinkButton>
                    <HyperlinkButton Margin="4" NavigateUri="https://bsky.app/profile/firecube.bsky.social">Follow me on Bluesky</HyperlinkButton>
                    <Button
                        Width="150"
                        Margin="4,12,4,8"
                        BorderBrush="{ThemeResource MicaBorderBrush}"
                        BorderThickness="1"
                        Click="Exit_Click"
                        Style="{ThemeResource ToolbarButton}">
                        Exit
                    </Button>
                </StackPanel>
            </Grid>
        </ScrollViewer>
    </Grid>
</winuiex:WindowEx>
